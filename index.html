<!DOCTYPE html>
<html>
	<head>
		<title>url-redirect</title>
		<style>
			.hidden {
				display: none;
			}
		</style>
	</head>
	<body>
		<p>
			This page you are on, is just here to see how many people click on the links that i send, and what the destination url is.
			You can safely click on this link to finish the redirect to the original url
		</p>
		<a onclick="gO()" href="#" class="hidden" id="s0">Click to go to destination url</a>
		<span class="hidden" id="s1">
			Lol, this could have been a rick roll, but you still clicked on the
			button. Why?<br>
			Anyway, you should probably close this tab soon.<br>
            		Im not going to elaborate further....<br>
            		Im just not going to.<br>
            		Fine, I will tell you....... Sike NOPE im not going to. HAHAHAHA<br>
            		I know what you want from me! AN IM NOT GOING TO GIVE IT TO YOU. YOU CAN'T TRICK ME!!!<br><br><br>
			Oh, and by the way, something is going to play 3 seconds after
			the page has loaded
		</span>
		<div id="player" class="hidden"></div>

		<script>
            		var plEvent;

			var button = document.getElementById("s0").classList;
			var s1 = document.getElementById("s1").classList;
			var tag = document.createElement("script");

			tag.src = "https://www.youtube.com/iframe_api";
			var firstScriptTag = document.getElementsByTagName("script")[0];
			firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

			var player;
			function onYouTubeIframeAPIReady() {
				player = new YT.Player("player", {
					height: "315",
					width: "560",
					videoId: "7YZCUpnaTfg",
					playerVars: {
						playsinline: 1,
					},
					events: {
						onReady: onPlayerReady,
					},
				});
			}

			// 4. The API will call this function when the video player is ready.
			function onPlayerReady(event) {
				console.log(event);
				button.toggle("hidden");
				plEvent = event;
			}

            		function gO() {
                		event = plEvent;
                		console.log(event);
                		button.toggle("hidden");
                		s1.toggle("hidden");
				
				setTimeout(() => {
                    			var s4 = document.getElementById("player").classList;
					event.target.playVideo();

                    			setTimeout(() => {
                        			s4.toggle("hidden");
                    			}, 1000);
				}, 2000);
            		}
		</script>
	</body>
</html>
